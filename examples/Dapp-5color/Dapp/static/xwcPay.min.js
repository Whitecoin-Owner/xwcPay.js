require=function i(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,s,u)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";var r=!1;window.addEventListener("AnybitLoaded",function(){console.log("AnybitLoaded"),r=!0,window.isAnybit=!0});var o,i,a="AnybitDapp",s=((o=document.createElement("style")).type="text/css",document.head.appendChild(o),i=o.sheet,function(e,t,n){n=n||0,i.insertRule(e+"{"+t+"}",n)});t.exports={isExtInstalled:function(){return"undefined"!=typeof XwcExtWallet},isChrome:function(){if("undefined"!=typeof window&&navigator.userAgent.toLowerCase().match(/chrome\/([\d\.]+)/))return!0;return!1},isMobile:function(){return-1<navigator.userAgent.toLowerCase().indexOf("mobile")},isNano:function(){return-1<navigator.userAgent.toLowerCase().indexOf("nasnanoapp")},isWechat:function(){return-1<navigator.userAgent.toLowerCase().indexOf("micromessenger")},randomCode:function(e){var t,n,r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o="";for(t=0;t<e;t+=1)n=Math.random()*r.length,n=Math.floor(n),o+=r.charAt(n);return o},addCssRule:s,getOrigin:function(){var e;return"www."===(e="undefined"!=typeof location&&location.hasOwnProperty("hostname")&&location.hostname.length&&"localhost"!==location.hostname?location.hostname:"").substr(0,4)&&(e=e.replace("www.","")),e},isAnybitMobile:function(){return!0===window.isAnybit?(r=window.isAnybit,!0):r},wrappedAnybitMethod:function(e){return e.startsWith(a)?e:a+"."+e}}},{}],2:[function(e,t,n){"use strict";var r={};t.exports=function(n){n.listener&&(r[n.serialNumber]=n.listener),dsBridge.call("AnybitDapp.xwcCall",n,function(e){console.log("AnybitDapp.xwcCall: "+JSON.stringify(e));var t=JSON.parse(e);return"function"==typeof n.listener?n.listener(n.serialNumber,t.resp,t.name):null})}},{}],3:[function(e,t,n){"use strict";var s=e("./config"),u=e("./Utils");t.exports=function(e,t){var n,r,o,i,a=s.nanoScheme(t.debug);a=a+"://virtual?params="+JSON.stringify(e),window.location.href=a,!u.isAnybitMobile()&&t.mobile.showInstallTip&&(n=function(e){e||window.confirm('XwcExtWallet is not installed. Click "ok" to install it.')&&(window.location.href="https://wallet.xwc.cash/")},r=+new Date,i=0,o=setInterval(function(){i++;var e=+new Date-r;(100<=i||3e3<e)&&(clearInterval(o),3e3<e||document.hidden||document.webkitHidden?n(1):n(0))},20))}},{"./Utils":1,"./config":4}],4:[function(e,t,n){"use strict";var r="http://wallet.xwc.cash/api",o="http://wallet.xwc.cash/testnet_api";t.exports={payUrl:function(e){return(e=e||!1)?o:r},nanoScheme:function(e){return(e=e||!1)?"openapp.XWCnano.testnet":"openapp.XWCnano"},mainnetUrl:r,testnetUrl:o}},{}],5:[function(e,t,n){"use strict";var r={};window.addEventListener("message",function(e){if("content"===e.data.src){var t=e.data.serialNumber;if(!e.data.data||"XwcExtWallet"===e.data.data.source){var n=r[t];"function"==typeof n&&n(t,e.data.resp,e.data.name)}}}),t.exports=function(e){e.listener&&(r[e.serialNumber]=e.listener),e.listener=void 0,window.postMessage({src:"xwcPay",logo:"xwc",params:e},"*")}},{}],6:[function(e,t,n){"use strict";var r=function(r){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open(r.method||"GET",r.url),r.headers&&Object.keys(r.headers).forEach(function(e){n.setRequestHeader(e,r.headers[e])}),n.onload=function(){200<=n.status&&n.status<300?e(n.response):t(n.statusText)},n.onerror=function(){return t(n.statusText)},n.send(r.body)})};t.exports={get:function(e,t){return r({url:e,method:"GET",body:t})},post:function(e,t){return r({url:e,method:"POST",body:t})},request:r}},{}],7:[function(e,t,n){"use strict";var u=e("bignumber.js"),c=e("./Utils"),o=e("./qrcode"),i=e("./extensionHandler"),a=e("./appHandler"),s=e("./anybitHandler"),l=e("./config"),r=function(e,t){this.appKey=e,this.appSecret=t},f="1000000000000",d="50000000000",h="http://wallet.xwc.cash/api";r.prototype={submitParamsToWallet:function(e,t,n){if(setTimeout(function(){!function(e){try{var t=e.callback||h,n=new XMLHttpRequest;n.onreadystatechange=function(){},n.open("POST",t,!0),n.send(JSON.stringify({jsonrpc:"2.0",id:1,method:"SendPayId",params:[e.serialNumber]})),n.onerror=function(e){console.log("submit payId error",e)}}catch(e){console.log(e)}}(n)}),c.isAnybitMobile())return"confirmSignText"!==t&&"confirmSignHex"!==t||(e.method="confirmSign"),void s(e,n);if(c.isChrome()&&!c.isAnybitMobile()&&n.extension.openExtension)if(c.isExtInstalled())i(e);else if(window.confirm('XwcExtWallet is not installed. Click "ok" to install it.')){window.open("https://chrome.google.com/webstore/detail/xwcextwallet/eboifcnkiocbamnhekeoembpmmcnebii")}var r={category:"jump",des:t||"confirmTransfer",pageParams:e};return c.isAnybitMobile()&&a(r,n),n.qrcode.showQRCode&&!c.isNano()&&o.showQRCode(JSON.stringify(r),n),n.serialNumber},requestSignText:function(e,t){t.serialNumber=c.randomCode(32);var n={serialNumber:t.serialNumber,goods:t.goods,signBufferText:e,callback:t.callback||l.payUrl(t.debug),listener:t.listener,isSignBufferText:!0};return this.submitParamsToWallet(n,"confirmSignText",t)},requestSign:function(e,t){t.serialNumber=c.randomCode(32);var n={serialNumber:t.serialNumber,goods:t.goods,signBufferHex:e,callback:t.callback||l.payUrl(t.debug),listener:t.listener,isSignBufferHex:!0};return this.submitParamsToWallet(n,"confirmSignHex",t)},submit:function(e,t,n,r,o){var i,a;if(o.serialNumber=c.randomCode(32),n=n||"0",o.gasLimit){if((i=new u(o.gasLimit)).lt(0))throw new Error("gas limit should not be minus");if(i.gt(d))throw new Error("gas limit should smaller than "+d);if(!i.isInteger())throw new Error("gas limit should be integer")}if(o.gasPrice){if((a=new u(o.gasPrice)).lt(0))throw new Error("gas price should not be minus");if(a.gt(f))throw new Error("gas price should smaller than "+f)}var s={serialNumber:o.serialNumber,goods:o.goods,pay:{currency:e,to:t,valueRaw:n,memo:r.memo,payload:r,gasLimit:i?i.toString(10):void 0,gasPrice:a?a.toString(10):void 0,contractApi:r.function,contractArg:r.args},callback:o.callback||l.payUrl(o.debug),listener:o.listener,hrc20:o.hrc20};return this.submitParamsToWallet(s,"confirmTransfer",o)}},t.exports=r},{"./Utils":1,"./anybitHandler":2,"./appHandler":3,"./config":4,"./extensionHandler":5,"./qrcode":8,"bignumber.js":9}],8:[function(e,t,n){"use strict";var r=e("qrcode"),l=e("./Utils"),f=function(e,t){void 0!==t.listener&&t.listener(t.serialNumber,e)};t.exports={showQRCode:function(e,t){if("undefined"!=typeof window){var n=t.qrcode.container;void 0===n&&(n=function(e){var t=document.createElement("canvas");t.className="qrcode",l.addCssRule(".qrcode","//box-shadow: 2px 2px 12px lightgray;");var n=document.createElement("div");n.className="qrcode-container";var r="text-align: center;    //background-color: #fff0;    background-color: white;    //border-radius: 20px;    width: min-content; //300px;    height: min-content; //300px;    position: absolute;    left: 50%;    top: 50%;    transform: translate(-50%,-50%);";l.addCssRule(".qrcode-container",r),n.appendChild(t);var o=document.createElement("br");n.appendChild(o);var i=document.createElement("label");i.innerHTML='Please use <a href= "https://nano.xwc.io/" target="_blank" >NasNano</a> to scan this QR-Code.',i.className="qrcode-text",r="background-color: white;    \twidth: 300px",l.addCssRule(".qrcode-text",r),n.appendChild(i),o=document.createElement("br"),n.appendChild(o);var a=document.createElement("BUTTON");a.className="complete",a.innerHTML=e.qrcode.completeTip||"COMPLETE/完成支付",r="background-color: #000;\tborder-radius: 4px;\twidth: 295px; // 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 20px;\tcolor: #fff;\t",l.addCssRule(".complete",r),n.appendChild(a),o=document.createElement("br"),n.appendChild(o);var s=document.createElement("BUTTON");s.className="cancel",s.innerHTML=e.qrcode.cancelTip||"CANCEL/取消支付",r="background-color: #666;\tborder-radius: 4px;\twidth: 295px; // 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 10px;\tmargin-bottom: 20px;\tcolor: #fff;\t",l.addCssRule(".cancel",r),n.appendChild(s);var u=document.createElement("div");u.className="qrcode-background",r="position:absolute;\tleft:0;\ttop:0;\tz-index:100;\theight:100%;\twidth:100%;\tbackground-color: rgba(0, 0, 0, 0.4);",l.addCssRule(".qrcode-background",r),u.appendChild(n);var c=document.getElementsByTagName("body")[0];return c.appendChild(u),n.onclick=function(){event.cancelBubble=!0},u.onclick=function(){},s.onclick=function(){c.removeChild(u),u=null,f(!1,e)},a.onclick=function(){c.removeChild(u),f(!(u=null),e)},t}(t)),r.toCanvas(n,e,function(e){e&&console.error(e)})}}}},{"./Utils":1,qrcode:14}],9:[function(e,n,t){!function(e){"use strict";var t,k=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,U=Math.ceil,O=Math.floor,q=" not a boolean or binary digit",D="rounding mode",F="number type has more than 15 significant digits",j="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",H=1e14,Y=14,z=9007199254740991,J=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Q=1e7,W=1e9;function K(e){var t=0|e;return 0<e||e===t?t:t-1}function V(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=Y-t.length;n--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function i(e,t){var n,r,o=e.c,i=t.c,a=e.s,s=t.s,u=e.e,c=t.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=u==c,!o||!i)return r?0:!o^n?1:-1;if(!r)return c<u^n?1:-1;for(s=(u=o.length)<(c=i.length)?u:c,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return u==c?0:c<u^n?1:-1}function X(e,t,n){return(e=te(e))>=t&&e<=n}function $(e){return"[object Array]"==Object.prototype.toString.call(e)}function G(e,t,n){for(var r,o,i=[0],a=0,s=e.length;a<s;){for(o=i.length;o--;i[o]*=t);for(i[r=0]+=j.indexOf(e.charAt(a++));r<i.length;r++)i[r]>n-1&&(null==i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function Z(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function ee(e,t){var n,r;if(t<0){for(r="0.";++t;r+="0");e=r+e}else if(++t>(n=e.length)){for(r="0",t-=n;--t;r+="0");e+=r}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}function te(e){return(e=parseFloat(e))<0?U(e):O(e)}(t=function e(t){var m,c,n,l,a,s,u,f,d,y=0,r=P.prototype,v=new P(1),g=20,w=4,h=-7,p=21,b=-1e7,E=1e7,x=!0,T=M,A=!1,C=1,N=0,R={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function P(e,t){var n,r,o,i,a,s,u=this;if(!(u instanceof P))return new P(e,t);if(null!=t&&T(t,2,64,y,"base")){if(s=e+"",10==(t|=0))return L(u=new P(e instanceof P?e:s),g+u.e+1,w);if((i="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(n="["+j.slice(0,t)+"]+")+"(?:\\."+n+")?$",t<37?"i":"").test(s))return c(u,s,i,t);i?(u.s=1/e<0?(s=s.slice(1),-1):1,x&&15<s.replace(/^0\.0*|\./,"").length&&_(y,F,e),i=!1):u.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1,s=B(s,10,t,u.s)}else{if(e instanceof P)return u.s=e.s,u.e=e.e,u.c=(e=e.c)?e.slice():e,void(y=0);if((i="number"==typeof e)&&0*e==0){if(u.s=1/e<0?(e=-e,-1):1,e===~~e){for(r=0,o=e;10<=o;o/=10,r++);return u.e=r,u.c=[e],void(y=0)}s=e+""}else{if(!k.test(s=e+""))return c(u,s,i);u.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1}}for(-1<(r=s.indexOf("."))&&(s=s.replace(".","")),0<(o=s.search(/e/i))?(r<0&&(r=o),r+=+s.slice(o+1),s=s.substring(0,o)):r<0&&(r=s.length),o=0;48===s.charCodeAt(o);o++);for(a=s.length;48===s.charCodeAt(--a););if(s=s.slice(o,a+1))if(a=s.length,i&&x&&15<a&&(z<e||e!==O(e))&&_(y,F,u.s*e),E<(r=r-o-1))u.c=u.e=null;else if(r<b)u.c=[u.e=0];else{if(u.e=r,u.c=[],o=(r+1)%Y,r<0&&(o+=Y),o<a){for(o&&u.c.push(+s.slice(0,o)),a-=Y;o<a;)u.c.push(+s.slice(o,o+=Y));s=s.slice(o),o=Y-s.length}else o-=a;for(;o--;s+="0");u.c.push(+s)}else u.c=[u.e=0];y=0}function B(e,t,n,r){var o,i,a,s,u,c,l,f=e.indexOf("."),d=g,h=w;for(n<37&&(e=e.toLowerCase()),0<=f&&(a=N,N=0,e=e.replace(".",""),u=(l=new P(n)).pow(e.length-f),N=a,l.c=G(ee(V(u.c),u.e),10,t),l.e=l.c.length),i=a=(c=G(e,n,t)).length;0==c[--a];c.pop());if(!c[0])return"0";if(f<0?--i:(u.c=c,u.e=i,u.s=r,c=(u=m(u,l,d,h,t)).c,s=u.r,i=u.e),f=c[o=i+d+1],a=t/2,s=s||o<0||null!=c[o+1],s=h<4?(null!=f||s)&&(0==h||h==(u.s<0?3:2)):a<f||f==a&&(4==h||s||6==h&&1&c[o-1]||h==(u.s<0?8:7)),o<1||!c[0])e=s?ee("1",-d):"0";else{if(c.length=o,s)for(--t;++c[--o]>t;)c[o]=0,o||(++i,c=[1].concat(c));for(a=c.length;!c[--a];);for(f=0,e="";f<=a;e+=j.charAt(c[f++]));e=ee(e,i)}return e}function I(e,t,n,r){var o,i,a,s,u;if(n=null!=n&&T(n,0,8,r,D)?0|n:w,!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)u=V(e.c),u=19==r||24==r&&a<=h?Z(u,a):ee(u,a);else if(i=(e=L(new P(e),t,n)).e,s=(u=V(e.c)).length,19==r||24==r&&(t<=i||i<=h)){for(;s<t;u+="0",s++);u=Z(u,i)}else if(t-=a,u=ee(u,i),s<i+1){if(0<--t)for(u+=".";t--;u+="0");}else if(0<(t+=i-s))for(i+1==s&&(u+=".");t--;u+="0");return e.s<0&&o?"-"+u:u}function o(e,t){var n,r,o=0;for($(e[0])&&(e=e[0]),n=new P(e[0]);++o<e.length;){if(!(r=new P(e[o])).s){n=r;break}t.call(n,r)&&(n=r)}return n}function M(e,t,n,r,o){return(e<t||n<e||e!=te(e))&&_(r,(o||"decimal places")+(e<t||n<e?" out of range":" not an integer"),e),!0}function S(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];10<=o;o/=10,r++);return(n=r+n*Y-1)>E?e.c=e.e=null:n<b?e.c=[e.e=0]:(e.e=n,e.c=t),e}function _(e,t,n){var r=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+n);throw r.name="BigNumber Error",y=0,r}function L(e,t,n,r){var o,i,a,s,u,c,l,f=e.c,d=J;if(f){e:{for(o=1,s=f[0];10<=s;s/=10,o++);if((i=t-o)<0)i+=Y,a=t,l=(u=f[c=0])/d[o-a-1]%10|0;else if((c=U((i+1)/Y))>=f.length){if(!r)break e;for(;f.length<=c;f.push(0));u=l=0,a=(i%=Y)-Y+(o=1)}else{for(u=s=f[c],o=1;10<=s;s/=10,o++);l=(a=(i%=Y)-Y+o)<0?0:u/d[o-a-1]%10|0}if(r=r||t<0||null!=f[c+1]||(a<0?u:u%d[o-a-1]),r=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):5<l||5==l&&(4==n||r||6==n&&(0<i?0<a?u/d[o-a]:0:f[c-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,r?(t-=e.e+1,f[0]=d[(Y-t%Y)%Y],e.e=-t||0):f[0]=e.e=0,e;if(0==i?(f.length=c,s=1,c--):(f.length=c+1,s=d[Y-i],f[c]=0<a?O(u/d[o-a]%d[a])*s:0),r)for(;;){if(0==c){for(i=1,a=f[0];10<=a;a/=10,i++);for(a=f[0]+=s,s=1;10<=a;a/=10,s++);i!=s&&(e.e++,f[0]==H&&(f[0]=1));break}if(f[c]+=s,f[c]!=H)break;f[c--]=0,s=1}for(i=f.length;0===f[--i];f.pop());}e.e>E?e.c=e.e=null:e.e<b&&(e.c=[e.e=0])}return e}return P.another=e,P.ROUND_UP=0,P.ROUND_DOWN=1,P.ROUND_CEIL=2,P.ROUND_FLOOR=3,P.ROUND_HALF_UP=4,P.ROUND_HALF_DOWN=5,P.ROUND_HALF_EVEN=6,P.ROUND_HALF_CEIL=7,P.ROUND_HALF_FLOOR=8,P.EUCLID=9,P.config=P.set=function(){var e,t,n=0,r={},o=arguments,i=o[0],a=i&&"object"==typeof i?function(){if(i.hasOwnProperty(t))return null!=(e=i[t])}:function(){if(o.length>n)return null!=(e=o[n++])};return a(t="DECIMAL_PLACES")&&T(e,0,W,2,t)&&(g=0|e),r[t]=g,a(t="ROUNDING_MODE")&&T(e,0,8,2,t)&&(w=0|e),r[t]=w,a(t="EXPONENTIAL_AT")&&($(e)?T(e[0],-W,0,2,t)&&T(e[1],0,W,2,t)&&(h=0|e[0],p=0|e[1]):T(e,-W,W,2,t)&&(h=-(p=0|(e<0?-e:e)))),r[t]=[h,p],a(t="RANGE")&&($(e)?T(e[0],-W,-1,2,t)&&T(e[1],1,W,2,t)&&(b=0|e[0],E=0|e[1]):T(e,-W,W,2,t)&&(0|e?b=-(E=0|(e<0?-e:e)):x&&_(2,t+" cannot be zero",e))),r[t]=[b,E],a(t="ERRORS")&&(e===!!e||1===e||0===e?(y=0,T=(x=!!e)?M:X):x&&_(2,t+q,e)),r[t]=x,a(t="CRYPTO")&&(!0===e||!1===e||1===e||0===e?e?!(e="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?A=!0:x?_(2,"crypto unavailable",e?void 0:crypto):A=!1:A=!1:x&&_(2,t+q,e)),r[t]=A,a(t="MODULO_MODE")&&T(e,0,9,2,t)&&(C=0|e),r[t]=C,a(t="POW_PRECISION")&&T(e,0,W,2,t)&&(N=0|e),r[t]=N,a(t="FORMAT")&&("object"==typeof e?R=e:x&&_(2,t+" not an object",e)),r[t]=R,r},P.max=function(){return o(arguments,r.lt)},P.min=function(){return o(arguments,r.gt)},P.random=(n=9007199254740992,l=Math.random()*n&2097151?function(){return O(Math.random()*n)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,i,a=0,s=[],u=new P(v);if(e=null!=e&&T(e,0,W,14)?0|e:g,o=U(e/Y),A)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));a<o;)9e15<=(i=131072*t[a]+(t[a+1]>>>11))?(n=crypto.getRandomValues(new Uint32Array(2)),t[a]=n[0],t[a+1]=n[1]):(s.push(i%1e14),a+=2);a=o/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(o*=7);a<o;)9e15<=(i=281474976710656*(31&t[a])+1099511627776*t[a+1]+4294967296*t[a+2]+16777216*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])?crypto.randomBytes(7).copy(t,a):(s.push(i%1e14),a+=7);a=o/7}else A=!1,x&&_(14,"crypto unavailable",crypto);if(!A)for(;a<o;)(i=l())<9e15&&(s[a++]=i%1e14);for(o=s[--a],e%=Y,o&&e&&(i=J[Y-e],s[a]=O(o/i)*i);0===s[a];s.pop(),a--);if(a<0)s=[r=0];else{for(r=-1;0===s[0];s.splice(0,1),r-=Y);for(a=1,i=s[0];10<=i;i/=10,a++);a<Y&&(r-=Y-a)}return u.e=r,u.c=s,u}),m=function(){function C(e,t,n){var r,o,i,a,s=0,u=e.length,c=t%Q,l=t/Q|0;for(e=e.slice();u--;)s=((o=c*(i=e[u]%Q)+(r=l*i+(a=e[u]/Q|0)*c)%Q*Q+s)/n|0)+(r/Q|0)+l*a,e[u]=o%n;return s&&(e=[s].concat(e)),e}function N(e,t,n,r){var o,i;if(n!=r)i=r<n?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function R(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&1<e.length;e.splice(0,1));}return function(e,t,n,r,o){var i,a,s,u,c,l,f,d,h,g,p,m,v,w,b,y,E,x=e.s==t.s?1:-1,T=e.c,A=t.c;if(!(T&&T[0]&&A&&A[0]))return new P(e.s&&t.s&&(T?!A||T[0]!=A[0]:A)?T&&0==T[0]||!A?0*x:x/0:NaN);for(h=(d=new P(x)).c=[],x=n+(a=e.e-t.e)+1,o||(o=H,a=K(e.e/Y)-K(t.e/Y),x=x/Y|0),s=0;A[s]==(T[s]||0);s++);if(A[s]>(T[s]||0)&&a--,x<0)h.push(1),u=!0;else{for(w=T.length,y=A.length,x+=2,1<(c=O(o/(A[s=0]+1)))&&(A=C(A,c,o),T=C(T,c,o),y=A.length,w=T.length),v=y,p=(g=T.slice(0,y)).length;p<y;g[p++]=0);E=A.slice(),E=[0].concat(E),b=A[0],A[1]>=o/2&&b++;do{if(c=0,(i=N(A,g,y,p))<0){if(m=g[0],y!=p&&(m=m*o+(g[1]||0)),1<(c=O(m/b)))for(o<=c&&(c=o-1),f=(l=C(A,c,o)).length,p=g.length;1==N(l,g,f,p);)c--,R(l,y<f?E:A,f,o),f=l.length,i=1;else 0==c&&(i=c=1),f=(l=A.slice()).length;if(f<p&&(l=[0].concat(l)),R(g,l,p,o),p=g.length,-1==i)for(;N(A,g,y,p)<1;)c++,R(g,y<p?E:A,p,o),p=g.length}else 0===i&&(c++,g=[0]);h[s++]=c,g[0]?g[p++]=T[v]||0:(g=[T[v]],p=1)}while((v++<w||null!=g[0])&&x--);u=null!=g[0],h[0]||h.splice(0,1)}if(o==H){for(s=1,x=h[0];10<=x;x/=10,s++);L(d,n+(d.e=s+a*Y-1)+1,r,u)}else d.e=a,d.r=+u;return d}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,s=/^([^.]+)\.$/,u=/^\.([^.]+)$/,f=/^-?(Infinity|NaN)$/,d=/^\s*\+(?=[\w.])|^\s+|\s+$/g,c=function(e,t,n,r){var o,i=n?t:t.replace(d,"");if(f.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(a,function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t}),r&&(o=r,i=i.replace(s,"$1").replace(u,"0.$1")),t!=i))return new P(i,o);x&&_(y,"not a"+(r?" base "+r:"")+" number",t),e.s=null}e.c=e.e=null,y=0},r.absoluteValue=r.abs=function(){var e=new P(this);return e.s<0&&(e.s=1),e},r.ceil=function(){return L(new P(this),this.e+1,2)},r.comparedTo=r.cmp=function(e,t){return y=1,i(this,new P(e,t))},r.decimalPlaces=r.dp=function(){var e,t,n=this.c;if(!n)return null;if(e=((t=n.length-1)-K(this.e/Y))*Y,t=n[t])for(;t%10==0;t/=10,e--);return e<0&&(e=0),e},r.dividedBy=r.div=function(e,t){return y=3,m(this,new P(e,t),g,w)},r.dividedToIntegerBy=r.divToInt=function(e,t){return y=4,m(this,new P(e,t),0,1)},r.equals=r.eq=function(e,t){return y=5,0===i(this,new P(e,t))},r.floor=function(){return L(new P(this),this.e+1,3)},r.greaterThan=r.gt=function(e,t){return y=6,0<i(this,new P(e,t))},r.greaterThanOrEqualTo=r.gte=function(e,t){return y=7,1===(t=i(this,new P(e,t)))||0===t},r.isFinite=function(){return!!this.c},r.isInteger=r.isInt=function(){return!!this.c&&K(this.e/Y)>this.c.length-2},r.isNaN=function(){return!this.s},r.isNegative=r.isNeg=function(){return this.s<0},r.isZero=function(){return!!this.c&&0==this.c[0]},r.lessThan=r.lt=function(e,t){return y=8,i(this,new P(e,t))<0},r.lessThanOrEqualTo=r.lte=function(e,t){return y=9,-1===(t=i(this,new P(e,t)))||0===t},r.minus=r.sub=function(e,t){var n,r,o,i,a=this,s=a.s;if(y=10,t=(e=new P(e,t)).s,!s||!t)return new P(NaN);if(s!=t)return e.s=-t,a.plus(e);var u=a.e/Y,c=e.e/Y,l=a.c,f=e.c;if(!u||!c){if(!l||!f)return l?(e.s=-t,e):new P(f?a:NaN);if(!l[0]||!f[0])return f[0]?(e.s=-t,e):new P(l[0]?a:3==w?-0:0)}if(u=K(u),c=K(c),l=l.slice(),s=u-c){for((i=s<0)?(s=-s,o=l):(c=u,o=f),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(t=f.length))?s:t,s=t=0;t<r;t++)if(l[t]!=f[t]){i=l[t]<f[t];break}if(i&&(o=l,l=f,f=o,e.s=-e.s),0<(t=(r=f.length)-(n=l.length)))for(;t--;l[n++]=0);for(t=H-1;s<r;){if(l[--r]<f[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=H}l[r]-=f[r]}for(;0==l[0];l.splice(0,1),--c);return l[0]?S(e,l,c):(e.s=3==w?-1:1,e.c=[e.e=0],e)},r.modulo=r.mod=function(e,t){var n,r,o=this;return y=11,e=new P(e,t),!o.c||!e.s||e.c&&!e.c[0]?new P(NaN):!e.c||o.c&&!o.c[0]?new P(o):(9==C?(r=e.s,e.s=1,n=m(o,e,0,3),e.s=r,n.s*=r):n=m(o,e,0,C),o.minus(n.times(e)))},r.negated=r.neg=function(){var e=new P(this);return e.s=-e.s||null,e},r.plus=r.add=function(e,t){var n,r=this,o=r.s;if(y=12,t=(e=new P(e,t)).s,!o||!t)return new P(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/Y,a=e.e/Y,s=r.c,u=e.c;if(!i||!a){if(!s||!u)return new P(o/0);if(!s[0]||!u[0])return u[0]?e:new P(s[0]?r:0*o)}if(i=K(i),a=K(a),s=s.slice(),o=i-a){for(0<o?(a=i,n=u):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=u.length)<0&&(n=u,u=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+u[t]+o)/H|0,s[t]=H===s[t]?0:s[t]%H;return o&&(s=[o].concat(s),++a),S(e,s,a)},r.precision=r.sd=function(e){var t,n,r=this.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(x&&_(13,"argument"+q,e),e!=!!e&&(e=null)),!r)return null;if(t=(n=r.length-1)*Y+1,n=r[n]){for(;n%10==0;n/=10,t--);for(n=r[0];10<=n;n/=10,t++);}return e&&this.e+1>t&&(t=this.e+1),t},r.round=function(e,t){var n=new P(this);return(null==e||T(e,0,W,15))&&L(n,~~e+this.e+1,null!=t&&T(t,0,8,15,D)?0|t:w),n},r.shift=function(e){var t=this;return T(e,-z,z,16,"argument")?t.times("1e"+te(e)):new P(t.c&&t.c[0]&&(e<-z||z<e)?t.s*(e<0?0:1/0):t)},r.squareRoot=r.sqrt=function(){var e,t,n,r,o,i=this,a=i.c,s=i.s,u=i.e,c=g+4,l=new P("0.5");if(1!==s||!a||!a[0])return new P(!s||s<0&&(!a||a[0])?NaN:a?i:1/0);if(0==(s=Math.sqrt(+i))||s==1/0?(((t=V(a)).length+u)%2==0&&(t+="0"),s=Math.sqrt(t),u=K((u+1)/2)-(u<0||u%2),n=new P(t=s==1/0?"1e"+u:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new P(s+""),n.c[0])for((s=(u=n.e)+c)<3&&(s=0);;)if(o=n,n=l.times(o.plus(m(i,o,c,1))),V(o.c).slice(0,s)===(t=V(n.c)).slice(0,s)){if(n.e<u&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(L(n,n.e+g+2,1),e=!n.times(n).eq(i));break}if(!r&&(L(o,o.e+g+2,0),o.times(o).eq(i))){n=o;break}c+=4,s+=4,r=1}return L(n,n.e+g+1,w,e)},r.times=r.mul=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,h,g,p,m,v=this,w=v.c,b=(y=17,e=new P(e,t)).c;if(!(w&&b&&w[0]&&b[0]))return!v.s||!e.s||w&&!w[0]&&!b||b&&!b[0]&&!w?e.c=e.e=e.s=null:(e.s*=v.s,w&&b?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=K(v.e/Y)+K(e.e/Y),e.s*=v.s,(u=w.length)<(f=b.length)&&(g=w,w=b,b=g,o=u,u=f,f=o),o=u+f,g=[];o--;g.push(0));for(p=H,m=Q,o=f;0<=--o;){for(n=0,d=b[o]%m,h=b[o]/m|0,i=o+(a=u);o<i;)n=((c=d*(c=w[--a]%m)+(s=h*c+(l=w[a]/m|0)*d)%m*m+g[i]+n)/p|0)+(s/m|0)+h*l,g[i--]=c%p;g[i]=n}return n?++r:g.splice(0,1),S(e,g,r)},r.toDigits=function(e,t){var n=new P(this);return e=null!=e&&T(e,1,W,18,"precision")?0|e:null,t=null!=t&&T(t,0,8,18,D)?0|t:w,e?L(n,e,t):n},r.toExponential=function(e,t){return I(this,null!=e&&T(e,0,W,19)?1+~~e:null,t,19)},r.toFixed=function(e,t){return I(this,null!=e&&T(e,0,W,20)?~~e+this.e+1:null,t,20)},r.toFormat=function(e,t){var n=I(this,null!=e&&T(e,0,W,21)?~~e+this.e+1:null,t,21);if(this.c){var r,o=n.split("."),i=+R.groupSize,a=+R.secondaryGroupSize,s=R.groupSeparator,u=o[0],c=o[1],l=this.s<0,f=l?u.slice(1):u,d=f.length;if(a&&(r=i,i=a,d-=a=r),0<i&&0<d){for(r=d%i||i,u=f.substr(0,r);r<d;r+=i)u+=s+f.substr(r,i);0<a&&(u+=s+f.slice(r)),l&&(u="-"+u)}n=c?u+R.decimalSeparator+((a=+R.fractionGroupSize)?c.replace(new RegExp("\\d{"+a+"}\\B","g"),"$&"+R.fractionGroupSeparator):c):u}return n},r.toFraction=function(e){var t,n,r,o,i,a,s,u,c,l=x,f=this,d=f.c,h=new P(v),g=n=new P(v),p=s=new P(v);if(null!=e&&(x=!1,a=new P(e),x=l,(l=a.isInt())&&!a.lt(v)||(x&&_(22,"max denominator "+(l?"out of range":"not an integer"),e),e=!l&&a.c&&L(a,a.e+1,1).gte(v)?a:null)),!d)return f.toString();for(c=V(d),o=h.e=c.length-f.e-1,h.c[0]=J[(i=o%Y)<0?Y+i:i],e=!e||0<a.cmp(h)?0<o?h:g:a,i=E,E=1/0,a=new P(c),s.c[0]=0;u=m(a,h,0,1),1!=(r=n.plus(u.times(p))).cmp(e);)n=p,p=r,g=s.plus(u.times(r=g)),s=r,h=a.minus(u.times(r=h)),a=r;return r=m(e.minus(n),p,0,1),s=s.plus(r.times(g)),n=n.plus(r.times(p)),s.s=g.s=f.s,t=m(g,p,o*=2,w).minus(f).abs().cmp(m(s,n,o,w).minus(f).abs())<1?[g.toString(),p.toString()]:[s.toString(),n.toString()],E=i,t},r.toNumber=function(){return+this},r.toPower=r.pow=function(e,t){var n,r,o,i=O(e<0?-e:+e),a=this;if(null!=t&&(y=23,t=new P(t)),!T(e,-z,z,23,"exponent")&&(!isFinite(e)||z<i&&(e/=0)||parseFloat(e)!=e&&!(e=NaN))||0==e)return n=Math.pow(+a,e),new P(t?n%t:n);for(t?1<e&&a.gt(v)&&a.isInt()&&t.gt(v)&&t.isInt()?a=a.mod(t):(o=t,t=null):N&&(n=U(N/Y+2)),r=new P(v);;){if(i%2){if(!(r=r.times(a)).c)break;n?r.c.length>n&&(r.c.length=n):t&&(r=r.mod(t))}if(!(i=O(i/2)))break;a=a.times(a),n?a.c&&a.c.length>n&&(a.c.length=n):t&&(a=a.mod(t))}return t?r:(e<0&&(r=v.div(r)),o?r.mod(o):n?L(r,N,w):r)},r.toPrecision=function(e,t){return I(this,null!=e&&T(e,1,W,24,"precision")?0|e:null,t,24)},r.toString=function(e){var t,n=this.s,r=this.e;return null===r?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(t=V(this.c),t=null!=e&&T(e,2,64,25,"base")?B(ee(t,r),0|e,10,n):r<=h||p<=r?Z(t,r):ee(t,r),n<0&&this.c[0]&&(t="-"+t)),t},r.truncated=r.trunc=function(){return L(new P(this),this.e+1,1)},r.valueOf=r.toJSON=function(){var e,t=this.e;return null===t?this.toString():(e=V(this.c),e=t<=h||p<=t?Z(e,t):ee(e,t),this.s<0?"-"+e:e)},r.isBigNumber=!0,null!=t&&P.config(t),P}()).default=t.BigNumber=t,"function"==typeof define&&define.amd?define(function(){return t}):void 0!==n&&n.exports?n.exports=t:(e||(e="undefined"!=typeof self?self:Function("return this")()),e.BigNumber=t)}(this)},{}],10:[function(e,t,n){"use strict";var r=e("window-or-global");t.exports=function(){return"function"==typeof r.Promise&&"function"==typeof r.Promise.prototype.then}},{"window-or-global":40}],11:[function(e,t,n){"use strict";var g={single_source_shortest_paths:function(e,t,n){var r={},o={};o[t]=0;var i,a,s,u,c,l,f,d=g.PriorityQueue.make();for(d.push(t,0);!d.empty();)for(s in a=(i=d.pop()).value,u=i.cost,c=e[a]||{})c.hasOwnProperty(s)&&(l=u+c[s],f=o[s],(void 0===o[s]||l<f)&&(o[s]=l,d.push(s,l),r[s]=a));if(void 0!==n&&void 0===o[n]){var h=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(h)}return r},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,t,n){var r=g.single_source_shortest_paths(e,t,n);return g.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(e){var t,n=g.PriorityQueue,r={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r.queue=[],r.sorter=e.sorter||n.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==t&&(t.exports=g)},{}],12:[function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,f=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},d=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,n=o.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||o.call(e,t)};t.exports=function e(){var t,n,r,o,i,a,s=arguments[0],u=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},u=2),(null==s||"object"!=typeof s&&"function"!=typeof s)&&(s={});u<c;++u)if(null!=(t=arguments[u]))for(n in t)r=s[n],s!==(o=t[n])&&(l&&o&&(d(o)||(i=f(o)))?(i?(i=!1,a=r&&f(r)?r:[]):a=r&&d(r)?r:{},s[n]=e(l,a,o)):void 0!==o&&(s[n]=o));return s}},{}],13:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],14:[function(e,t,n){var c=e("can-promise"),l=e("./core/qrcode"),r=e("./renderer/canvas"),o=e("./renderer/svg-tag.js");function i(r,o,i,a,t){var e=[].slice.call(arguments,1),n=e.length,s="function"==typeof e[n-1];if(!s&&!c())throw new Error("Callback required as last argument");if(!s){if(n<1)throw new Error("Too few arguments provided");return 1===n?(i=o,o=a=void 0):2!==n||o.getContext||(a=i,i=o,o=void 0),new Promise(function(e,t){try{var n=l.create(i,a);e(r(n,o,a))}catch(e){t(e)}})}if(n<2)throw new Error("Too few arguments provided");2===n?(t=i,i=o,o=a=void 0):3===n&&(o.getContext&&void 0===t?(t=a,a=void 0):(t=a,a=i,i=o,o=void 0));try{var u=l.create(i,a);t(null,r(u,o,a))}catch(e){t(e)}}n.create=l.create,n.toCanvas=i.bind(null,r.render),n.toDataURL=i.bind(null,r.renderToDataURL),n.toString=i.bind(null,function(e,t,n){return o.render(e,n)})},{"./core/qrcode":30,"./renderer/canvas":36,"./renderer/svg-tag.js":37,"can-promise":10}],15:[function(e,t,a){var s=e("./utils").getSymbolSize;a.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=s(e),r=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7],i=1;i<t-1;i++)o[i]=o[i-1]-r;return o.push(6),o.reverse()},a.getPositions=function(e){for(var t=[],n=a.getRowColCoords(e),r=n.length,o=0;o<r;o++)for(var i=0;i<r;i++)0===o&&0===i||0===o&&i===r-1||o===r-1&&0===i||t.push([n[o],n[i]]);return t}},{"./utils":34}],16:[function(e,t,n){var r=e("./mode"),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(e){this.mode=r.ALPHANUMERIC,this.data=e}i.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*o.indexOf(this.data[t]);n+=o.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},t.exports=i},{"./mode":27}],17:[function(e,t,n){function r(){this.buffer=[],this.length=0}r.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},t.exports=r},{}],18:[function(e,t,n){var r=e("../utils/buffer");function o(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new r(e*e),this.data.fill(0),this.reservedBit=new r(e*e),this.reservedBit.fill(0)}o.prototype.set=function(e,t,n,r){var o=e*this.size+t;this.data[o]=n,r&&(this.reservedBit[o]=!0)},o.prototype.get=function(e,t){return this.data[e*this.size+t]},o.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},o.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},t.exports=o},{"../utils/buffer":39}],19:[function(e,t,n){var r=e("../utils/buffer"),o=e("./mode");function i(e){this.mode=o.BYTE,this.data=new r(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},t.exports=i},{"../utils/buffer":39,"./mode":27}],20:[function(e,t,n){var r=e("./error-correction-level"),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];n.getBlocksCount=function(e,t){switch(t){case r.L:return o[4*(e-1)+0];case r.M:return o[4*(e-1)+1];case r.Q:return o[4*(e-1)+2];case r.H:return o[4*(e-1)+3];default:return}},n.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}}},{"./error-correction-level":21}],21:[function(e,t,n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2},n.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}}},{}],22:[function(e,t,n){var r=e("./utils").getSymbolSize;n.getPositions=function(e){var t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},{"./utils":34}],23:[function(e,t,n){var o=e("./utils"),i=o.getBCHDigit(1335);n.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,r=n<<10;0<=o.getBCHDigit(r)-i;)r^=1335<<o.getBCHDigit(r)-i;return 21522^(n<<10|r)}},{"./utils":34}],24:[function(e,t,n){var r=e("../utils/buffer"),o=new r(512),i=new r(256);!function(){for(var e=1,t=0;t<255;t++)o[t]=e,i[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)o[t]=o[t-255]}(),n.log=function(e){if(e<1)throw new Error("log("+e+")");return i[e]},n.exp=function(e){return o[e]},n.mul=function(e,t){return 0===e||0===t?0:o[i[e]+i[t]]}},{"../utils/buffer":39}],25:[function(e,t,n){var r=e("./mode"),o=e("./utils");function i(e){this.mode=r.KANJI,this.data=e}i.getBitsLength=function(e){return 13*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=o.toSJIS(this.data[t]);if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},t.exports=i},{"./mode":27,"./utils":34}],26:[function(e,t,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var l=3,a=3,u=40,o=10;function i(e,t,n){switch(e){case s.Patterns.PATTERN000:return(t+n)%2==0;case s.Patterns.PATTERN001:return t%2==0;case s.Patterns.PATTERN010:return n%3==0;case s.Patterns.PATTERN011:return(t+n)%3==0;case s.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case s.Patterns.PATTERN101:return t*n%2+t*n%3==0;case s.Patterns.PATTERN110:return(t*n%2+t*n%3)%2==0;case s.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}s.isValid=function(e){return e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){for(var t=e.size,n=0,r=0,o=0,i=null,a=null,s=0;s<t;s++){r=o=0,i=a=null;for(var u=0;u<t;u++){var c=e.get(s,u);c===i?r++:(5<=r&&(n+=l+(r-5)),i=c,r=1),(c=e.get(u,s))===a?o++:(5<=o&&(n+=l+(o-5)),a=c,o=1)}5<=r&&(n+=l+(r-5)),5<=o&&(n+=l+(o-5))}return n},s.getPenaltyN2=function(e){for(var t=e.size,n=0,r=0;r<t-1;r++)for(var o=0;o<t-1;o++){var i=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);4!==i&&0!==i||n++}return n*a},s.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,o=0,i=0;i<t;i++){r=o=0;for(var a=0;a<t;a++)r=r<<1&2047|e.get(i,a),10<=a&&(1488===r||93===r)&&n++,o=o<<1&2047|e.get(a,i),10<=a&&(1488===o||93===o)&&n++}return n*u},s.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*o},s.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var o=0;o<n;o++)t.isReserved(o,r)||t.xor(o,r,i(e,o,r))},s.getBestMask=function(e,t){for(var n=Object.keys(s.Patterns).length,r=0,o=1/0,i=0;i<n;i++){t(i),s.applyMask(i,e);var a=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(i,e),a<o&&(o=a,r=i)}return r}},{}],27:[function(e,t,n){var r=e("./version"),o=e("./regex");n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},n.getBestModeForData=function(e){return o.testNumeric(e)?n.NUMERIC:o.testAlphanumeric(e)?n.ALPHANUMERIC:o.testKanji(e)?n.KANJI:n.BYTE},n.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},n.isValid=function(e){return e&&e.bit&&e.ccBits},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}}},{"./regex":32,"./version":35}],28:[function(e,t,n){var r=e("./mode");function o(e){this.mode=r.NUMERIC,this.data=e.toString()}o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var o=this.data.length-t;0<o&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*o+1))},t.exports=o},{"./mode":27}],29:[function(e,t,r){var a=e("../utils/buffer"),s=e("./galois-field");r.mul=function(e,t){var n=new a(e.length+t.length-1);n.fill(0);for(var r=0;r<e.length;r++)for(var o=0;o<t.length;o++)n[r+o]^=s.mul(e[r],t[o]);return n},r.mod=function(e,t){for(var n=new a(e);0<=n.length-t.length;){for(var r=n[0],o=0;o<t.length;o++)n[o]^=s.mul(t[o],r);for(var i=0;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},r.generateECPolynomial=function(e){for(var t=new a([1]),n=0;n<e;n++)t=r.mul(t,[1,s.exp(n)]);return t}},{"../utils/buffer":39,"./galois-field":24}],30:[function(e,t,n){var A=e("../utils/buffer"),C=e("./utils"),i=e("./error-correction-level"),s=e("./bit-buffer"),f=e("./bit-matrix"),d=e("./alignment-pattern"),h=e("./finder-pattern"),g=e("./mask-pattern"),N=e("./error-correction-code"),R=e("./reed-solomon-encoder"),p=e("./version"),u=e("./format-info"),c=e("./mode"),m=e("./segments"),v=e("isarray");function w(e,t,n){var r,o,i=e.size,a=u.getEncodedBits(t,n);for(r=0;r<15;r++)o=1==(a>>r&1),r<6?e.set(r,8,o,!0):r<8?e.set(r+1,8,o,!0):e.set(i-15+r,8,o,!0),r<8?e.set(8,i-r-1,o,!0):r<9?e.set(8,15-r-1+1,o,!0):e.set(8,15-r-1,o,!0);e.set(i-8,8,1,!0)}function b(t,e,n){var r=new s;n.forEach(function(e){r.put(e.mode.bit,4),r.put(e.getLength(),c.getCharCountIndicator(e.mode,t)),e.write(r)});var o=8*(C.getSymbolTotalCodewords(t)-N.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);for(var i=(o-r.getLengthInBits())/8,a=0;a<i;a++)r.put(a%2?17:236,8);return function(e,t,n){for(var r=C.getSymbolTotalCodewords(t),o=N.getTotalCodewordsCount(t,n),i=r-o,a=N.getBlocksCount(t,n),s=a-r%a,u=Math.floor(r/a),c=Math.floor(i/a),l=c+1,f=u-c,d=new R(f),h=0,g=new Array(a),p=new Array(a),m=0,v=new A(e.buffer),w=0;w<a;w++){var b=w<s?c:l;g[w]=v.slice(h,h+b),p[w]=d.encode(g[w]),h+=b,m=Math.max(m,b)}var y,E,x=new A(r),T=0;for(y=0;y<m;y++)for(E=0;E<a;E++)y<g[E].length&&(x[T++]=g[E][y]);for(y=0;y<f;y++)for(E=0;E<a;E++)x[T++]=p[E][y];return x}(r,t,e)}function a(e,t,n,r){var o;if(v(e))o=m.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var i=t;if(!i){var a=m.rawSplit(e);i=p.getBestVersionForData(a,n)}o=m.fromString(e,i||40)}var s=p.getBestVersionForData(o,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;var u=b(t,n,o),c=C.getSymbolSize(t),l=new f(c);return function(e,t){for(var n=e.size,r=h.getPositions(t),o=0;o<r.length;o++)for(var i=r[o][0],a=r[o][1],s=-1;s<=7;s++)if(!(i+s<=-1||n<=i+s))for(var u=-1;u<=7;u++)a+u<=-1||n<=a+u||(0<=s&&s<=6&&(0===u||6===u)||0<=u&&u<=6&&(0===s||6===s)||2<=s&&s<=4&&2<=u&&u<=4?e.set(i+s,a+u,!0,!0):e.set(i+s,a+u,!1,!0))}(l,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2==0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(l),function(e,t){for(var n=d.getPositions(t),r=0;r<n.length;r++)for(var o=n[r][0],i=n[r][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(o+a,i+s,!0,!0):e.set(o+a,i+s,!1,!0)}(l,t),w(l,n,0),7<=t&&function(e,t){for(var n,r,o,i=e.size,a=p.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+i-8-3,o=1==(a>>s&1),e.set(n,r,o,!0),e.set(r,n,o,!0)}(l,t),function(e,t){for(var n=e.size,r=-1,o=n-1,i=7,a=0,s=n-1;0<s;s-=2)for(6===s&&s--;;){for(var u=0;u<2;u++)if(!e.isReserved(o,s-u)){var c=!1;a<t.length&&(c=1==(t[a]>>>i&1)),e.set(o,s-u,c),-1==--i&&(a++,i=7)}if((o+=r)<0||n<=o){o-=r,r=-r;break}}}(l,u),r||(r=g.getBestMask(l,w.bind(null,l,n))),g.applyMask(r,l),w(l,n,r),{modules:l,version:t,errorCorrectionLevel:n,maskPattern:r,segments:o}}n.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,r,o=i.M;return void 0!==t&&(o=i.from(t.errorCorrectionLevel,i.M),n=p.from(t.version),r=g.from(t.maskPattern),t.toSJISFunc&&C.setToSJISFunction(t.toSJISFunc)),a(e,n,o,r)}},{"../utils/buffer":39,"./alignment-pattern":15,"./bit-buffer":17,"./bit-matrix":18,"./error-correction-code":20,"./error-correction-level":21,"./finder-pattern":22,"./format-info":23,"./mask-pattern":26,"./mode":27,"./reed-solomon-encoder":31,"./segments":33,"./utils":34,"./version":35,isarray:13}],31:[function(e,t,n){var a=e("../utils/buffer"),s=e("./polynomial");function r(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(e){this.degree=e,this.genPoly=s.generateECPolynomial(this.degree)},r.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new a(this.degree);t.fill(0);var n=a.concat([e,t],e.length+this.degree),r=s.mod(n,this.genPoly),o=this.degree-r.length;if(0<o){var i=new a(this.degree);return i.fill(0),r.copy(i,o),i}return r},t.exports=r},{"../utils/buffer":39,"./polynomial":29}],32:[function(e,t,n){var r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",o="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+").)+";n.KANJI=new RegExp(r,"g"),n.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),n.BYTE=new RegExp(o,"g"),n.NUMERIC=new RegExp("[0-9]+","g"),n.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+r+"$"),a=new RegExp("^[0-9]+$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");n.testKanji=function(e){return i.test(e)},n.testNumeric=function(e){return a.test(e)},n.testAlphanumeric=function(e){return s.test(e)}},{}],33:[function(e,t,a){var h=e("./mode"),o=e("./numeric-data"),i=e("./alphanumeric-data"),s=e("./byte-data"),u=e("./kanji-data"),c=e("./regex"),l=e("./utils"),f=e("dijkstrajs");function d(e){return unescape(encodeURIComponent(e)).length}function g(e,t,n){for(var r,o=[];null!==(r=e.exec(n));)o.push({data:r[0],index:r.index,mode:t,length:r[0].length});return o}function p(e){var t,n,r=g(c.NUMERIC,h.NUMERIC,e),o=g(c.ALPHANUMERIC,h.ALPHANUMERIC,e);return l.isKanjiModeEnabled()?(t=g(c.BYTE,h.BYTE,e),n=g(c.KANJI,h.KANJI,e)):(t=g(c.BYTE_KANJI,h.BYTE,e),n=[]),r.concat(o,t,n).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function m(e,t){switch(t){case h.NUMERIC:return o.getBitsLength(e);case h.ALPHANUMERIC:return i.getBitsLength(e);case h.KANJI:return u.getBitsLength(e);case h.BYTE:return s.getBitsLength(e)}}function n(e,t){var n,r=h.getBestModeForData(e);if((n=h.from(t,r))!==h.BYTE&&n.bit<r.bit)throw new Error('"'+e+'" cannot be encoded with mode '+h.toString(n)+".\n Suggested mode is: "+h.toString(r));switch(n!==h.KANJI||l.isKanjiModeEnabled()||(n=h.BYTE),n){case h.NUMERIC:return new o(e);case h.ALPHANUMERIC:return new i(e);case h.KANJI:return new u(e);case h.BYTE:return new s(e)}}a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(n(t,null)):t.data&&e.push(n(t.data,t.mode)),e},[])},a.fromString=function(e,t){for(var n=function(e,t){for(var n={},r={start:{}},o=["start"],i=0;i<e.length;i++){for(var a=e[i],s=[],u=0;u<a.length;u++){var c=a[u],l=""+i+u;s.push(l),n[l]={node:c,lastCount:0},r[l]={};for(var f=0;f<o.length;f++){var d=o[f];n[d]&&n[d].node.mode===c.mode?(r[d][l]=m(n[d].lastCount+c.length,c.mode)-m(n[d].lastCount,c.mode),n[d].lastCount+=c.length):(n[d]&&(n[d].lastCount=c.length),r[d][l]=m(c.length,c.mode)+4+h.getCharCountIndicator(c.mode,t))}}o=s}for(f=0;f<o.length;f++)r[o[f]].end=0;return{map:r,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];switch(r.mode){case h.NUMERIC:t.push([r,{data:r.data,mode:h.ALPHANUMERIC,length:r.length},{data:r.data,mode:h.BYTE,length:r.length}]);break;case h.ALPHANUMERIC:t.push([r,{data:r.data,mode:h.BYTE,length:r.length}]);break;case h.KANJI:t.push([r,{data:r.data,mode:h.BYTE,length:d(r.data)}]);break;case h.BYTE:t.push([{data:r.data,mode:h.BYTE,length:d(r.data)}])}}return t}(p(e,l.isKanjiModeEnabled())),t),r=f.find_path(n.map,"start","end"),o=[],i=1;i<r.length-1;i++)o.push(n.table[r[i]].node);return a.fromArray(o.reduce(function(e,t){var n=0<=e.length-1?e[e.length-1]:null;return n&&n.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},a.rawSplit=function(e){return a.fromArray(p(e,l.isKanjiModeEnabled()))}},{"./alphanumeric-data":16,"./byte-data":19,"./kanji-data":25,"./mode":27,"./numeric-data":28,"./regex":32,"./utils":34,dijkstrajs:11}],34:[function(e,t,n){var r,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];n.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},n.getSymbolTotalCodewords=function(e){return o[e]},n.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},n.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');r=e},n.isKanjiModeEnabled=function(){return void 0!==r},n.toSJIS=function(e){return r(e)}},{}],35:[function(e,t,i){var a=e("./utils"),s=e("./error-correction-code"),o=e("./error-correction-level"),u=e("./mode"),c=e("isarray"),n=a.getBCHDigit(7973);function l(e,t){return u.getCharCountIndicator(e,t)+4}function f(e,n){var r=0;return e.forEach(function(e){var t=l(e.mode,n);r+=t+e.getBitsLength()}),r}i.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40},i.from=function(e,t){return i.isValid(e)?parseInt(e,10):t},i.getCapacity=function(e,t,n){if(!i.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=u.BYTE);var r=8*(a.getSymbolTotalCodewords(e)-s.getTotalCodewordsCount(e,t));if(n===u.MIXED)return r;var o=r-l(n,e);switch(n){case u.NUMERIC:return Math.floor(o/10*3);case u.ALPHANUMERIC:return Math.floor(o/11*2);case u.KANJI:return Math.floor(o/13);case u.BYTE:default:return Math.floor(o/8)}},i.getBestVersionForData=function(e,t){var n,r=o.from(t,o.M);if(c(e)){if(1<e.length)return function(e,t){for(var n=1;n<=40;n++)if(f(e,n)<=i.getCapacity(n,t,u.MIXED))return n}(e,r);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,t,n){for(var r=1;r<=40;r++)if(t<=i.getCapacity(r,n,e))return r}(n.mode,n.getLength(),r)},i.getEncodedBits=function(e){if(!i.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=a.getBCHDigit(t)-n;)t^=7973<<a.getBCHDigit(t)-n;return e<<12|t}},{"./error-correction-code":20,"./error-correction-level":21,"./mode":27,"./utils":34,isarray:13}],36:[function(e,t,s){var l=e("./utils");s.render=function(e,t,n){var r=n,o=t;void 0!==r||t&&t.getContext||(r=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),r=l.getOptions(r);var i,a,s=l.getImageWidth(e.modules.size,r),u=o.getContext("2d"),c=u.createImageData(s,s);return l.qrToImageData(c.data,e,r),i=o,a=s,u.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px",u.putImageData(c,0,0),o},s.renderToDataURL=function(e,t,n){var r=n;void 0!==r||t&&t.getContext||(r=t,t=void 0),r||(r={});var o=s.render(e,t,r),i=r.type||"image/png",a=r.rendererOpts||{};return o.toDataURL(i,a.quality)}},{"./utils":38}],37:[function(e,t,n){var f=e("./utils");function d(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function h(e,t,n){var r=e+t;return void 0!==n&&(r+=" "+n),r}n.render=function(e,t,n){var r=f.getOptions(t),o=e.modules.size,i=e.modules.data,a=o+2*r.margin,s=r.color.light.a?"<path "+d(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+d(r.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",o=0,i=!1,a=0,s=0;s<e.length;s++){var u=Math.floor(s%t),c=Math.floor(s/t);u||i||(i=!0),e[s]?(a++,0<s&&0<u&&e[s-1]||(r+=i?h("M",u+n,.5+c+n):h("m",o,0),o=0,i=!1),u+1<t&&e[s+1]||(r+=h("h",a),a=0)):o++}return r}(i,o,r.margin)+'"/>',c='viewBox="0 0 '+a+" "+a+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+c+">"+s+u+"</svg>";return"function"==typeof n&&n(null,l),l}},{"./utils":38}],38:[function(e,t,h){function o(e){if("string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}h.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&21<=e.width?e.width:void 0,r=e.scale||4;return{width:n,scale:n?4:r,margin:t,color:{dark:o(e.color.dark||"#000000ff"),light:o(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},h.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},h.getImageWidth=function(e,t){var n=h.getScale(e,t);return Math.floor((e+2*t.margin)*n)},h.qrToImageData=function(e,t,n){for(var r=t.modules.size,o=t.modules.data,i=h.getScale(r,n),a=Math.floor((r+2*n.margin)*i),s=n.margin*i,u=[n.color.light,n.color.dark],c=0;c<a;c++)for(var l=0;l<a;l++){var f=4*(c*a+l),d=n.color.light;if(s<=c&&s<=l&&c<a-s&&l<a-s)d=u[o[Math.floor((c-s)/i)*r+Math.floor((l-s)/i)]?1:0];e[f++]=d.r,e[f++]=d.g,e[f++]=d.b,e[f]=d.a}}},{}],39:[function(e,t,n){"use strict";var a=e("isarray");var r=(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())?2147483647:1073741823;function s(e,t,n){return s.TYPED_ARRAY_SUPPORT||this instanceof s?"number"==typeof e?c(this,e):function(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var o;o=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?o.__proto__=s.prototype:o=l(e,o);return o}(e,t,n,r);if("string"==typeof t)return function(e,t){var n=0|d(t),r=u(e,n),o=r.write(t);o!==n&&(r=r.slice(0,o));return r}(e,t);return function(e,t){if(s.isBuffer(t)){var n=0|i(t.length),r=u(e,n);return 0===r.length||t.copy(r,0,0,n),r}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?u(e,0):l(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return l(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,n):new s(e,t,n)}function i(e){if(r<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function u(e,t){var n;return s.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=s.prototype:(null===(n=e)&&(n=new s(t)),n.length=t),n}function c(e,t){var n=u(e,t<0?0:0|i(t));if(!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)n[r]=0;return n}function l(e,t){for(var n=t.length<0?0:0|i(t.length),r=u(e,n),o=0;o<n;o+=1)r[o]=255&t[o];return r}function f(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&i.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function d(e){return s.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:f(e).length)}s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),s.prototype.write=function(e,t,n){void 0===t?(n=this.length,t=0):void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var r,o,i,a=this.length-t;if((void 0===n||a<n)&&(n=a),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return o=t,i=n,function(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}(f(e,(r=this).length-o),r,o,i)},s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var o=t-e;n=new s(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;0<=o;--o)e[o+t]=this[o+n];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},s.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var i=s.isBuffer(e)?e:new s(e),a=i.length;for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this},s.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u(null,0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=c(null,t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},s.byteLength=d,s.prototype._isBuffer=!0,s.isBuffer=function(e){return!(null==e||!e._isBuffer)},t.exports=s},{isarray:13}],40:[function(e,t,n){(function(e){"use strict";t.exports="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],xwcpay:[function(e,t,n){"use strict";var s=e("extend"),r=e("./libs/http"),o=e("./libs/config"),i=e("./libs/pay"),u=e("./libs/Utils"),a=(e("bignumber.js"),function(e,t){this._pay=new i(e,t)});a.config=o;var c=null;a.prototype={pay:function(e,t,n,r){return r=s({goods:{name:"",desc:{},orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},r),this._pay.submit(e,t,n,{type:"binary"},r)},signBufferHex:function(e,t){return t=s({goods:{name:"",desc:{},orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},t),this._pay.requestSign(e,t)},signBufferText:function(e,t){return t=s({goods:{name:"",desc:{},orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},t),this._pay.requestSignText(e,t)},defaultConfig:{chainId:"2e13ba07b457f2e284dcfcbd3d4a3e4d78a6ed89a61006cdb7fdad6d67ef0b12",network:"ws://nodeapi.xwclab.org:6090"},postMessageRequest:function(o,i,r,a){if(a=a||1e4,i=i||{},u.isAnybitMobile()){var t=u.wrappedAnybitMethod(o);return new Promise(function(n,r){var e=!1;dsBridge.call(t,i,function(e){var t=JSON.parse(e);0===t.code?n(t):r(o+"failed: "+t.errmsg)}),setTimeout(function(){e||(e=!0,r(o+" timeout"))},a)})}return new Promise(function(t,e){var n=!1;if("undefined"==typeof XwcExtWallet){if(n)return;return n=!0,void e("XwcExtWallet not installed")}if(!XwcExtWallet[r])return console.log("method "+r+" not found"),void e("method "+r+" not found in XwcExtWallet");XwcExtWallet[r](function(e){n||(n=!0,t(e))},i),setTimeout(function(){n||(n=!0,e(o+" timeout"))},a)})},setConfig:function(e,t,n,r){return this.postMessageRequest("setConfig",{chainId:e,networkKey:t,network:n,clientNetwork:r},"setConfig",1e4)},onConnectedWallet:function(){function o(){return"undefined"!=typeof XwcExtWallet||u.isAnybitMobile()}return new Promise(function(e,t){if(o())e();else var n=0,r=setInterval(function(){return 10<n?(clearInterval(r),void t("timeout")):(n++,o()?(clearInterval(r),void e()):void 0)},500)})},getConfig:function(){return this.postMessageRequest("getConfig",{},"getConfig",1e4).then(function(e){return(c=e)&&"ws://nodeapi.xwclab.org:6090"===e.network&&(e.network="ws://nodeapi2.xwclab.org:6090"),e})},getConfigWithCache:function(){return c?Promise.resolve(c):this.getConfig()},getUserAddress:function(){return this.postMessageRequest("getUserAddress",{},"getUserAddress",5e3)},getChainConfigObject:function(){return xwc_js.ChainConfig},getApis:function(){return xwc_js.Apis},getAssets:function(e){return e.init_promise.then(function(){return e.db_api().exec("list_assets",["",100]).then(function(e){return e.sort(function(e,t){return e.id===t.id?0:e.id<t.id?-1:1})})})},getBalances:function(e,t){return e.init_promise.then(function(){return e.db_api().exec("get_addr_balances",[t]).then(function(e){return e.sort(function(e,t){return e.id===t.id?0:e.id<t.id?-1:1})})})},getTransaction:function(e,t){return e.init_promise.then(function(){return e.db_api().exec("get_transaction_by_id",[t])})},waitTransaction:function(o,i,a){return a=a||8e3,new Promise(function(t,e){var n=0,r=setInterval(function(){if(a<=n)return clearInterval(r),void e("transaction timeout, maybe transaction not successfully");n+=2e3,o.getTransactionById(i).then(function(e){clearInterval(r),t(e)}).catch(function(e){})},2e3)})},lockBalanceToMiner:function(e,t,n,r){var o={type:"lockBalanceToMiner",miner:e,assetId:t,amount:n};return(r=s({goods:{name:"",desc:{},orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},r)).qrcode.showQRCode=!1,r.mobile.showInstallTip=!1,r.extension.openExtension=!0,o.memo=r.memo,this._pay.submit(t,e,n,o,r)},simulateCall:function(e,t,n,r,o,i){var a={type:"simulateCall",function:r,args:o};return(i=s({goods:{name:"",desc:{},orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},i)).qrcode.showQRCode=!1,i.mobile.showInstallTip=!1,i.extension.openExtension=!0,a.memo=i.memo,this._pay.submit(e,t,n,a,i)},invokeContract:function(e,t,n,r,o,i){return this.simulateCall.apply(this,arguments)},transferToContract:function(e,t,n,r,o){var i={type:"transferToContract",args:r};return(o=s({goods:{name:"",desc:{},orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},o)).qrcode.showQRCode=!1,o.mobile.showInstallTip=!1,o.extension.openExtension=!0,i.memo=o.memo,this._pay.submit(e,t,n,i,o)},queryPayInfo:function(e,t){var n=(t=s({goods:{name:"",desc:{},orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0},t)).callback||o.payUrl(t.debug);return r.post(n,JSON.stringify({jsonrpc:"2.0",id:1,method:"QueryPayId",params:[e]}))}},t.exports=a},{"./libs/Utils":1,"./libs/config":4,"./libs/http":6,"./libs/pay":7,"bignumber.js":9,extend:12}]},{},[]);